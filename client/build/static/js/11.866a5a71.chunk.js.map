{"version":3,"sources":["pages/MotelPage.tsx"],"names":["MotelPage","dispatch","useAppDispatch","location","useLocation","filter","useAppSelector","selectFilterMotel","listSchool","selectDataSchool","useState","filterSchool","setFilterSchool","useEffect","motelActions","getMotel","_limit","length","schoolActions","getSchool","state","school","setFilter","_school","codeName","_page","className","mt","handleSelectPagination","e","page","handleFilterMotel","value","map"],"mappings":"sMAyEeA,UA9DG,WACd,IAAMC,EAAWC,cACXC,EAAWC,cAEXC,EAASC,YAAeC,KACxBC,EAAaF,YAAeG,KAElC,EAAwCC,mBAA8B,IAAtE,mBAAOC,EAAP,KAAqBC,EAArB,KAEAC,qBAAU,WACNZ,EAASa,IAAaC,SAAb,2BACFV,GADE,IAELW,OAAQ,SAEb,CAACX,EAAQJ,IAEZY,qBAAU,WAAO,IAAD,EASZ,OAR0B,IAAtBL,EAAWS,QACXhB,EAASiB,IAAcC,cAG3B,UAAIhB,EAASiB,aAAb,aAAI,EAAgBC,UAChBT,EAAgB,CAACT,EAASiB,MAAMC,SAChCpB,EAASa,IAAaQ,UAAb,2BAA4BjB,GAA5B,IAAoCkB,QAAS,CAACpB,EAASiB,MAAMC,OAAOG,eAE1E,WACHvB,EAASa,IAAaQ,UAAU,CAC5BG,MAAO,EACPT,OAAQ,SAGjB,CAACf,EAAUI,EAAQG,EAAWS,OAAQd,EAASiB,QAelD,OACI,cAAC,IAAD,UACI,cAAC,IAAD,CACIM,UAAU,YACVC,GAAI,GAFR,SAII,cAAC,IAAD,CACIC,uBApBe,SAACC,EAAyBC,GACrD7B,EAASa,IAAaQ,UAAb,2BAA4BjB,GAA5B,IAAoCoB,MAAOK,OAoBxCnB,aAAcA,EACdoB,kBAlBU,SAACF,EAAoBG,GAC3CpB,EAAgBoB,GAGhB,IAAIT,EAAeS,EAAMC,KAAI,SAAAZ,GAAM,OAAIA,EAAOG,YAE9CvB,EAASa,IAAaQ,UAAb,2BAA4BjB,GAA5B,IAAoCoB,MAAO,EAAGF","file":"static/js/11.866a5a71.chunk.js","sourcesContent":["import { Box } from '@material-ui/core'\r\nimport { useAppDispatch, useAppSelector } from 'app/hooks'\r\nimport { MainLayout } from 'components/Layouts/MainLayout'\r\nimport { ListMotelSection } from 'features/motels/components'\r\nimport { motelActions, selectFilterMotel } from 'features/motels/motelSlice'\r\nimport { schoolActions, selectDataSchool } from 'features/school/schoolSlice'\r\nimport { School } from 'models'\r\nimport { ChangeEvent, useEffect, useState } from 'react'\r\nimport { useLocation } from 'react-router'\r\n\r\n\r\nconst MotelPage = () => {\r\n    const dispatch = useAppDispatch()\r\n    const location = useLocation<any>()\r\n\r\n    const filter = useAppSelector(selectFilterMotel)\r\n    const listSchool = useAppSelector(selectDataSchool)\r\n\r\n    const [filterSchool, setFilterSchool] = useState<(string | School)[]>([])\r\n\r\n    useEffect(() => {\r\n        dispatch(motelActions.getMotel({\r\n            ...filter,\r\n            _limit: 10,\r\n        }))\r\n    }, [filter, dispatch])\r\n\r\n    useEffect(() => {\r\n        if (listSchool.length === 0)\r\n            dispatch(schoolActions.getSchool())\r\n\r\n\r\n        if (location.state?.school) {\r\n            setFilterSchool([location.state.school])\r\n            dispatch(motelActions.setFilter({ ...filter, _school: [location.state.school.codeName] }))\r\n        }\r\n        return () => {\r\n            dispatch(motelActions.setFilter({\r\n                _page: 1,\r\n                _limit: 15,\r\n            }))\r\n        }\r\n    }, [dispatch, filter, listSchool.length, location.state])\r\n\r\n    const handleSelectPagination = (e: ChangeEvent<unknown>, page: number) => {\r\n        dispatch(motelActions.setFilter({ ...filter, _page: page }))\r\n    }\r\n\r\n    const handleFilterMotel = (e: ChangeEvent<{}>, value: (string | School)[]) => {\r\n        setFilterSchool(value)\r\n\r\n        // @ts-ignore\r\n        let _school: any = value.map(school => school.codeName)\r\n\r\n        dispatch(motelActions.setFilter({ ...filter, _page: 1, _school }))\r\n    }\r\n\r\n    return (\r\n        <MainLayout>\r\n            <Box\r\n                className=\"container\"\r\n                mt={12}\r\n            >\r\n                <ListMotelSection\r\n                    handleSelectPagination={handleSelectPagination}\r\n                    filterSchool={filterSchool}\r\n                    handleFilterMotel={handleFilterMotel}\r\n                />\r\n            </Box>\r\n        </MainLayout>\r\n    )\r\n}\r\n\r\nexport default MotelPage\r\n"],"sourceRoot":""}